<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous"> <link rel="stylesheet" href="/assets/main.css"> <link rel="canonical" href="/"> <link rel="alternate" type="application/rss+xml" title="siteleaf-updater" href="/feed.xml"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>about siteleaf updater | siteleaf-updater</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="about siteleaf updater" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="update the index file of your project’s siteleaf project with your repository’s README.md file" /> <meta property="og:description" content="update the index file of your project’s siteleaf project with your repository’s README.md file" /> <meta property="og:site_name" content="siteleaf-updater" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2019-03-05T14:27:00+01:00" /> <script type="application/ld+json"> {"@type":"WebSite","headline":"about siteleaf updater","dateModified":"2019-03-05T14:27:00+01:00","datePublished":"2019-03-05T14:27:00+01:00","description":"update the index file of your project’s siteleaf project with your repository’s README.md file","url":"/","name":"siteleaf-updater","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <header id="nav-header" class="border-dark border-left-0 border-right-0"> <div id="nav-container" class="container position-relative d-flex justify-content-between align-items-center"> <a class="h4 m-0 text-dark" href="/">siteleaf-updater</a> <nav id="nav-menu-container" class="text-right navbar-light"> <input type="checkbox" id="nav-trigger" class="d-none"/> <label for="nav-trigger" id="nav-trigger-label" class="m-2 d-inline-block d-md-none navbar-toggler-icon"> </label> <div id="nav-menu" class="d-none d-md-block"> <a class="text-dark ml-3 ml-md-0 p-2 d-block d-md-inline-block" href="/">about siteleaf updater</a> </div> </nav> </div> </header> <main aria-label="Content"> <div id="content-container" class="container"> <header class="pt-3 mb-3"> <h1 id="siteleaf-updater">siteleaf-updater</h1> <p><a href="https://github.com/gofunky/siteleaf-updater/actions"><img src="https://img.shields.io/github/workflow/status/gofunky/siteleaf-updater/build/master?style=for-the-badge" alt="GitHub Workflow Status (branch)" /></a> <a href="https://app.renovatebot.com/dashboard#github/gofunky/siteleaf-updater"><img src="https://img.shields.io/badge/renovate-enabled-green?style=for-the-badge&amp;logo=renovatebot&amp;color=1a1f6c" alt="Renovate Status" /></a> <a href="https://libraries.io/npm/siteleaf-updater"><img src="https://img.shields.io/librariesio/release/npm/siteleaf-updater?style=for-the-badge" alt="Libraries.io dependency status for latest release" /></a> <a href="https://snyk.io/test/github/gofunky/siteleaf-updater"><img src="https://img.shields.io/snyk/vulnerabilities/npm/siteleaf-updater?style=for-the-badge" alt="Snyk Vulnerabilities for npm package" /></a> <a href="https://standardjs.com"><img src="https://img.shields.io/badge/code_style-standard-purple.svg?style=for-the-badge" alt="JavaScript Style Guide" /></a> <a href="https://www.codefactor.io/repository/github/gofunky/siteleaf-updater"><img src="https://www.codefactor.io/repository/github/gofunky/siteleaf-updater/badge?style=for-the-badge" alt="CodeFactor" /></a> <a href="https://www.npmjs.com/package/siteleaf-updater"><img src="https://img.shields.io/node/v/siteleaf-updater?style=for-the-badge" alt="node-current" /></a> <a href="https://www.npmjs.com/package/siteleaf-updater"><img src="https://img.shields.io/npm/v/siteleaf-updater?style=for-the-badge" alt="NPM version" /></a> <a href="https://www.npmjs.com/package/siteleaf-updater"><img src="https://img.shields.io/npm/dm/siteleaf-updater?style=for-the-badge&amp;color=ff69b4" alt="NPM Downloads" /></a> <a href="https://github.com/gofunky/siteleaf-updater/blob/master/LICENSE"><img src="https://img.shields.io/github/license/gofunky/siteleaf-updater.svg?style=for-the-badge" alt="GitHub License" /></a> <a href="https://github.com/gofunky/siteleaf-updater/commits/master"><img src="https://img.shields.io/github/last-commit/gofunky/siteleaf-updater.svg?style=for-the-badge&amp;color=9cf" alt="GitHub last commit" /></a></p> <p>update the index file of your project’s siteleaf project with your repository’s README.md file</p> <h2 id="why-it-is-necessary">Why it is necessary</h2> <p>When hosting GitHub Pages, there is a common discrepancy one faces when choosing the place to host their page files.</p> <h3 id="1-host-it-on-the-master-branch">1. Host it on the master branch</h3> <p>Hosting GitHub Pages the master branch has the advantage that files can be shared with the project (including the README). However, pages usually stand alone without a dependency to or from the project’s files. Hence, there might be numerous commits that cause an avoidable overhead to merges, CI, and pulls.</p> <h3 id="2-host-it-on-a-dedicated-branch">2. Host it on a dedicated branch</h3> <p>Hosting the pages on a dedicated branch (e.g., <code class="language-plaintext highlighter-rouge">gh-pages</code>) has the benefit that this beforementioned overhead is avoided. Separate concerns are rooted in separate trees, just as it is supposed to be. However, normally, developers only want to publish their README with a few additions. There is no integrated way or known method in GitHub to sync the README file without hooks or different workarounds. This circumstance impairs common maintenance and automation requirements.</p> <h2 id="solution">Solution</h2> <ol> <li>Use <a href="https://www.siteleaf.com/">Siteleaf</a>, and publish or sync to a dedicated branch on GitHub.</li> <li>Create a page and assign it a path (i.e. <code class="language-plaintext highlighter-rouge">index</code> by default).</li> <li>Setup your CI to use <code class="language-plaintext highlighter-rouge">siteleaf-updater</code> for automated doc updates.</li> </ol> <h2 id="parameters">Parameters</h2> <table> <thead> <tr> <th>Action Input</th> <th>CLI Parameter</th> <th>Environment Variable</th> <th>Default</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>api-key</td> <td>api-key</td> <td>SITELEAF_API_KEY</td> <td><em>required</em></td> <td>the API key that grants access to the repository’s siteleaf project</td> </tr> <tr> <td>api-secret</td> <td>api-secret</td> <td>SITELEAF_API_SECRET</td> <td><em>required</em></td> <td>the API secret that grants access to the repository’s siteleaf project</td> </tr> <tr> <td>site</td> <td>site</td> <td>SITELEAF_SITE</td> <td><em>required</em></td> <td>the id of the siteleaf site to be updated</td> </tr> <tr> <td>page</td> <td>page</td> <td>SITELEAF_PAGE</td> <td><code class="language-plaintext highlighter-rouge">index</code></td> <td>the target page of the siteleaf site to be updated</td> </tr> <tr> <td>file</td> <td>file</td> <td>SITELEAF_MD_SOURCE</td> <td><code class="language-plaintext highlighter-rouge">README.md</code></td> <td>the path to the local Markdown file to push</td> </tr> <tr> <td>publish</td> <td>publish</td> <td>-</td> <td><code class="language-plaintext highlighter-rouge">false</code></td> <td>allows publishing the site after its update</td> </tr> </tbody> </table> <h2 id="action-example">Action Example</h2> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">steps</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">update site</span>
    <span class="na">uses</span><span class="pi">:</span> <span class="s">gofunky/siteleaf-updater@v2</span>
    <span class="na">with</span><span class="pi">:</span>
      <span class="na">api-key</span><span class="pi">:</span> <span class="s">$</span>
      <span class="na">api-secret</span><span class="pi">:</span> <span class="s">$</span>
      <span class="na">site</span><span class="pi">:</span> <span class="s1">'</span><span class="s">my-site'</span>
      <span class="na">page</span><span class="pi">:</span> <span class="s1">'</span><span class="s">contribution'</span>
      <span class="na">file</span><span class="pi">:</span> <span class="s1">'</span><span class="s">CONTRIBUTION.md'</span>
      <span class="na">publish</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div></div> </header> <div id="content"> <ul class="list-unstyled m-0"> </ul> </div> </div> </main> <footer id="site-footer"> <div class="container"> <div class="h5 pt-4">siteleaf-updater</div> <div class="row"> <div class="col col-lg-3"> <ul class="list-unstyled"> <li class="text-secondary"> siteleaf-updater </li> </ul> </div> <div class="col-6 col-lg-3"> <ul class="list-unstyled"> <li> <a href="https://github.com/gofunky/siteleaf-updater"> <span class="align-middle text-secondary pr-2"><svg viewBox="0 0 16 16" width="16px" height="16px" xmlns="http://www.w3.org/2000/svg"> <title>GitHub</title> <path fill="currentColor" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/> </svg></span><span>gofunky/siteleaf-updater</span> </a> </li> </ul> </div> <div class="col-12 col-lg"> <p class="text-secondary text-justify">update the index file of your project&#39;s siteleaf project with your repository&#39;s README.md file</p> </div> </div> </div> </footer> </body> </html>
